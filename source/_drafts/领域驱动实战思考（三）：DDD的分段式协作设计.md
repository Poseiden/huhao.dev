---
title: 领域驱动实战思考（三）：DDD的分段式协作设计
abbrlink: 61190ae2
categories: 
  - - Domain Driven Development
tags:
  - DDD
---

## 前言

在我的[上一篇文章](https://huhao.dev/posts/58fe0824/)中，给大家介绍了我在实践中对于DDD设计过程进行梳理的思考。本篇则是向大家整体介绍一下我的“DDD分段式协作设计”的步骤和内容。

同时，该方法的基准化操作手册，也在曾经的一篇文章中[公开提供了下载](https://huhao.dev/posts/130bb570/)，可以作为更细化的内容进行参考和使用。

**由于DDD的相关概念和设计方法极多，相比其他市场上所能见到的操作手法，我在这里向大家所介绍的方法，更加聚焦如何能够确保达到“绝大多数人的60分”， 而非“极少数人的100分”，也就是说，我更加注重的是：**

- **步骤间的连贯性**
- **方法的可操作性**
- **实践的可落地性**

**为此，我尽可能的通过实战检验，在一些需要凭借经验进行综合判断的场景，尽可能的提供虽然不完美但是可以降低选择成本的唯一选项或解释，从而争取让一线实施人员避免“二选一”或“看具体情况再说”这样莫能两可的纠结。**

需要说明的是，不同的咨询师在实施DDD的设计过程中手法都不一样，我仅是从我所实施过的咨询项目出发，提供了一种经反复验证可工作的方式，并不代表本方法是唯一正确的。

在这里仅供参考，也欢迎大家进行交流。

<!-- more -->

## DDD解决的问题和方法

在介绍分段式设计之前，让我们回顾一下DDD希望解决的问题：

> **软件核心复杂性**

所谓“复杂”，我根据实际观察总结的理解是：

- 业务场景多
- 业务流程长
- 业务概念多

**而具备以上这种特征的业务问题，其复杂度往往都会超出任何单独一个人的大脑所能够理解和处理的范围。**

在过去的单体架构时代，由于业务复杂度和技术复杂度都还处于与今天相比更加“简单”的阶段，所以很多时候，我们可能能够依赖少数“聪明的”系统架构师或者“十倍工程师”来通过“拍脑袋”解决问题。

而在今天，这个迈向“第四次工业革命”的时代，当“唯一不变的就是变化”所带来的高业务响应力要求，使得业务问题的复杂度越来越高，而技术复杂度也随着云原生和微服务架构产生了几何增长，甚至催生出了DevOps这样的运动时。对于一个要应对复杂业务挑战的大规模企业来说，依赖少数“聪明人”通过“拍脑袋”来解决问题则变得越来越不现实。

那怎么办才好呢？

这时候，我们需要做的事情，就是**通过集体的力量来解决问题：**

- **通过协作的方式消除部门墙和角色墙，共同应对和分析复杂业务问题，设计解决方案，避免少数人“拍脑袋”；**
- **通过领域驱动的方式，依据业务问题的边界（业务变化的边界）、人员沟通一致性的边界（概念变化的边界）以及弹性伸缩的边界（云原生需求的边界）来架构软件系统，实现业务架构和技术架构相匹配，从而通过业务变化来拉动架构，通过架构来响应业务变化。**

这种设计方式所提倡的方法，与过去的“传统设计方法”（嗯，没错，说的就是瀑布式或者伪敏捷）的区别，如下图所示：

![DDD与传统设计方法的对比](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050456.png)

![DDD核心原则](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050540.png)

![DDD是更有套路的设计方式](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050542.png)

## DDD的分段式协作设计

### 战略设计

![事件风暴](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050210.png)

![限界上下文依赖关系](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050302.png)

![问题子域划分](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050316.png)

### 战术设计

![领域建模](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050342.png)

![业务服务划分](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050358.png)

![业务服务接口能力识别](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-15-050408.png)

### 技术实现

## 总结

## 领域驱动设计练功房

<img src="https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-16-123317.jpg" alt="领域驱动设计练功房（第一期）" style="zoom:50%;" />

---

## 参考资料