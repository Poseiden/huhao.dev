---
title: 领域驱动实战思考（五）：Design Thinking是DDD的好搭档
categories:
  - - Domain Driven Development
  - - Design Thinking
  - - Event Storming
tags:
  - DT
  - DDD
  - ES
  - CJ-ES
abbrlink: 33c29020
---

## 前言

在2018年12月下旬，我开始从事一个旨在帮助某大型客户实现从现有众多解决方案中识别并抽取公共能力，从而实现产品化的咨询工作。

在这个过程中，我们使用了两个过去分别由业务分析师和系统架构师使用的方法论工具，一个叫**设计思维（Design Thinking，以下简称DT）**，另一个叫**领域驱动设计（Domain Driven Design，以下简称DDD）**。而我们所研究的一个主要课题，是如何能把这两种看似不相关，由不同领域和角色发展起来的方法论进行融合和衔接，以便产出一种新型的产品孵化方法和解决方案。

在后来的一整年（2019年），我和我的同事们进行了大量基于DT和DDD的产品设计方法论的研究和实践，以及利用这两种工具实施遗留系统重构的分析性工作。

我们对整个DT+DDD的方法论进行了梳理和基准化的操作，从而形成了一套定义清晰且易于复用的方法论组合。

本文则是从一个系统架构师和咨询顾问的角度出发，记录了我在此过程中对于DT和DDD的思考，以及我所发现的DT与DDD的衔接方法。

<!-- more -->

## 那些过往的领域建模方法

在介绍DT和DDD的关系和衔接方法之前，我们需要回顾一下过去系统架构师关于业务梳理和领域建模的方法，由此才能知道DT对于DDD的意义。

### 用例分析法

首先，在面向对象设计（OOD）诞生后的很长一段时间内，人们最常使用的一种业务分析和领域建模方法就是“用例分析法”。这种方式简单说来，就是基于一段业务描述，抽取其中的名词和动词，然后基于俗称“三特性五原则（封装、继承、多态，SOLID）”的面向对象原则，通过架构师的抽象思维进行建模，如图所示：



这种建模方法应该是绝大多数人在进行面向对象设计时都使用过的方法，非常的“原生态”。当然我也听说过这种方法还有某些变体，比如“名词动词法”，就是通过系统架构师对业务专家进行不断的提问，从而对领域概念进行萃取和抽象，最终完成建模。

- **这种方法的好处是：**简单快速，易于操作，在面对较为简单和明确的业务场景时能够快速进行建模。
- **这种方法的缺点是：**建模效果依赖系统架构师的业务理解、个人经验和抽象能力，往往缺乏协作，基本上属于“拍脑袋”系列，所以在面对复杂业务场景的情况下往往难以收敛和抽象。

### DDD之初：“大声地”建模

- **这种方法的好处是：**
- **这种方法的缺点是：**

### 四色建模

我所做过的一个内部系统的四色建模的示例如下：

![四色建模示例](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-14-four-color-modeling.png)

- **这种方法的好处是：**分离关注点，一次只关注一件事情，比“大声地名词动词法建模”更加套路化。
- **这种方法的缺点是：**抽象级别高，专注于抽象的概念（关注名词而非动词），对于业务流程缺乏显式的映射，导致对于人的能力要求比较高。从我的个人体验来说，正如上图向四周扩展的拓扑状建模图例所示，过程还是挺烧脑的。

### Event Storming的崛起

- **这种方法的好处是：**
- **这种方法的缺点是：**

## Design Thinking 简介

## 将DDD与DT进行对接

### 领域驱动的本质

领域驱动的核心目标，正如Eric的书名里写的那样，是为了应对和解决：**“软件核心的复杂性”**。而对于“复杂的软件”，我的理解是：

1. 场景多
2. 流程长
3. 难以统一语言

当然，我还听过另外一种虽然不太好听，但是却非常贴切的说法是**“理解起来智商不够”**。

所以，既然是复杂的软件，那么就**绝对不会有“正确的”设计**。不论是Eric所提倡的“大声地”建模，还是以Event Stroming所代表的协作设计过程，都是希望能够避免个人拍脑袋，群策群力，**基于“共识”驱动出“适合的”设计**。

套用我的同事仝键的一句话，就是：

> *“我们必须要承认，当下的我们并不是全知全能的。”*

所以，从以上我们能够看到，**在做“领域驱动”的设计时，其本质则是“共识驱动”**。那么，如何能够更好的得到“共识”，就成了实施领域驱动设计所需要解决的关键问题。

至于那些觉得“我一个人也能做好领域驱动设计”的人，我觉得吧：要么是他智商太高，要么是复杂度不够，要么就是只有他一个人写代码……

### DT与DDD其实是“一样的”

#### 都是协作设计

#### 都是先发散再收敛

#### 都会对业务流程进行梳理

#### DT为DDD提供了领域问题的深度澄清

![产品研发“彩虹图”](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-14-dt-ddd-rainbow.png)

### 不同场景下的取舍

#### 在说不清业务和产品愿景的情况下

#### 在没有时间的情况下

#### 在有时间的情况下

## 对于未来的畅想

## 参考资料

1. [Object Modeling in Color](https://en.wikipedia.org/wiki/Object_Modeling_in_Color)
2. [运用四色建模法进行领域分析](https://www.infoq.cn/article/xh-four-color-modeling)
3. [谈谈领域建模](http://www.fanyilun.me/2018/04/08/%E8%B0%88%E8%B0%88%E9%A2%86%E5%9F%9F%E5%BB%BA%E6%A8%A1/)

---

## 欢迎关注我的个人公众号

![枪炮与玫瑰](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-20-wechat.png)